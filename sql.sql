CREATE DATABASE gestion_casos;
USE gestion_casos;

-- Tabla users
CREATE TABLE IF NOT EXISTS users (
    user_id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(10) UNIQUE NOT NULL,
    password VARCHAR(20) UNIQUE NOT NULL,
    role ENUM('administrador', 'usuario') NOT NULL,
    first_name VARCHAR(20) UNIQUE NOT NULL,
    last_name VARCHAR(20) UNIQUE NOT NULL,
    number_phone VARCHAR(9) UNIQUE NOT NULL,
    dni VARCHAR(8) UNIQUE NOT NULL
);

CREATE TABLE IF NOT EXISTS cases (
    case_id INT AUTO_INCREMENT PRIMARY KEY,
    code VARCHAR(20) UNIQUE NOT NULL,
    investigated_last_name VARCHAR(20) NOT NULL,
    investigated_first_name VARCHAR(20) NOT NULL,
    dni VARCHAR(8) NOT NULL,
    reviewer VARCHAR(20),
    created_date DATE DEFAULT CURRENT_DATE,
    deadline DATE DEFAULT CURRENT_DATE,
    stage ENUM('Preparatoria', 'Intermedia', 'Juzgamiento') NOT NULL,
    status ENUM('No revisado', 'En Revision', 'Revisado') NOT NULL,
    FOREIGN KEY (reviewer) REFERENCES users(first_name)
);


INSERT INTO users (username, password, role, first_name, last_name, number_phone, dni) VALUES
('emanol', 'emanol', 'usuario', 'Emanol Jesus', 'Tito Melo', '987654321', '12345678'),
('mariaj', 'pass13', 'usuario', 'María Jose', 'Sánchez Lopez', '987654322', '87654321'),
('juanh', 'pass14', 'usuario', 'Juan Manuel', 'Flores Huanca', '987654323', '45678901'),
('anam', 'pass15', 'usuario', 'Ana Maria', 'García Miro', '987654324', '65432109'),
('luism', 'pass16', 'usuario', 'Luis Alberto', 'Rojas Perca', '987654325', '78901234');

INSERT INTO cases (code, investigated_last_name, investigated_first_name, dni, reviewer, created_date, deadline, stage, status) VALUES
('CASE-1051', 'Rodríguez', 'Ana', '87654331', 'Emanol Jesus', '2023-09-03', '2024-09-30', 'Preparatoria', 'No revisado'),
('CASE-1065', 'Sánchez', 'Miguel', '87654325', 'Luis Alberto', '2023-09-17', '2024-11-30', 'Intermedia', 'No revisado'),
('CASE-1066', 'Martínez', 'Laura', '87654326', 'Emanol Jesus', '2023-09-18', '2024-10-15', 'Preparatoria', 'No revisado'),
('CASE-1067', 'Fernández', 'Pedro', '87654327', 'María Jose', '2023-09-19', '2024-09-10', 'Intermedia', 'No revisado'),
('CASE-1068', 'García', 'Sofía', '87654328', 'Juan Manuel', '2023-09-20', '2024-11-05', 'Juzgamiento', 'No revisado'),
('CASE-1069', 'López', 'Miguel', '87654329', 'Ana Maria', '2023-09-21', '2024-12-25', 'Preparatoria', 'No revisado'),
('CASE-1070', 'Pérez', 'Carlos', '87654330', 'Luis Alberto', '2023-09-22', '2024-10-05', 'Intermedia', 'No revisado'),
('CASE-1071', 'Rodríguez', 'Ana', '87654331', 'Emanol Jesus', '2023-09-23', '2024-09-30', 'Preparatoria', 'No revisado'),
('CASE-1072', 'Sánchez', 'Luis', '87654332', 'María Jose', '2023-09-24', '2024-08-25', 'Juzgamiento', 'No revisado'),
('CASE-1073', 'Gómez', 'José', '87654333', 'Juan Manuel', '2023-09-25', '2024-11-30', 'Preparatoria', 'No revisado'),
('CASE-1074', 'Fernández', 'Miguel', '87654334', 'Ana Maria', '2023-09-26', '2024-12-01', 'Intermedia', 'No revisado'),
('CASE-1064', 'Pérez', 'José', '87654324', 'Ana Maria', '2023-09-16', '2024-12-01', 'Preparatoria', 'No revisado'),
('CASE-1063', 'López', 'Luis', '87654323', 'Juan Manuel', '2023-09-15', '2024-08-20', 'Juzgamiento', 'No revisado'),
('CASE-1062', 'Rodríguez', 'Ana', '87654322', 'María Jose', '2023-09-14', '2024-09-25', 'Intermedia', 'No revisado'),
('CASE-1052', 'Sánchez', 'Luis', '87654332', 'María Jose', '2023-09-04', '2024-08-25', 'Juzgamiento', 'No revisado'),
('CASE-1053', 'Gómez', 'José', '87654333', 'Juan Manuel', '2023-09-05', '2024-11-30', 'Preparatoria', 'No revisado'),
('CASE-1054', 'Fernández', 'Miguel', '87654334', 'Ana Maria', '2023-09-06', '2024-12-01', 'Intermedia', 'No revisado'),
('CASE-1055', 'Martínez', 'Laura', '87654335', 'Luis Alberto', '2023-09-07', '2024-10-20', 'Preparatoria', 'No revisado'),
('CASE-1056', 'López', 'Pedro', '87654336', 'Emanol Jesus', '2023-09-08', '2024-09-25', 'Intermedia', 'No revisado'),
('CASE-1057', 'Pérez', 'Sofía', '87654337', 'María Jose', '2023-09-09', '2024-11-20', 'Juzgamiento', 'No revisado'),
('CASE-1058', 'Rodríguez', 'Miguel', '87654338', 'Juan Manuel', '2023-09-10', '2024-12-15', 'Preparatoria', 'No revisado'),
('CASE-1059', 'García', 'Carlos', '87654339', 'Ana Maria', '2023-09-11', '2024-10-10', 'Intermedia', 'No revisado'),
('CASE-1060', 'López', 'Ana', '87654340', 'Luis Alberto', '2023-09-12', '2024-09-15', 'Preparatoria', 'No revisado'),
('CASE-1061', 'García', 'Carlos', '87654321', 'Emanol Jesus', '2023-09-13', '2024-10-20', 'Preparatoria', 'No revisado'),
('CASE-1075', 'Martínez', 'Laura', '87654335', 'Luis Alberto', '2023-09-27', '2024-10-20', 'Preparatoria', 'No revisado'),
('CASE-1076', 'López', 'Pedro', '87654336', 'Emanol Jesus', '2023-09-28', '2024-09-25', 'Intermedia', 'No revisado'),
('CASE-1090', 'Pérez', 'Carlos', '87654330', 'Luis Alberto', '2023-10-12', '2024-10-05', 'Intermedia', 'No revisado'),
('CASE-1091', 'Rodríguez', 'Ana', '87654331', 'Emanol Jesus', '2023-10-13', '2024-09-30', 'Preparatoria', 'No revisado'),
('CASE-1092', 'Sánchez', 'Luis', '87654332', 'María Jose', '2023-10-14', '2024-08-25', 'Juzgamiento', 'No revisado'),
('CASE-1093', 'Gómez', 'José', '87654333', 'Juan Manuel', '2023-10-15', '2024-11-30', 'Preparatoria', 'No revisado'),
('CASE-1094', 'Fernández', 'Miguel', '87654334', 'Ana Maria', '2023-10-16', '2024-12-01', 'Intermedia', 'No revisado'),
('CASE-1095', 'Martínez', 'Laura', '87654335', 'Luis Alberto', '2023-10-17', '2024-10-20', 'Preparatoria', 'No revisado'),
('CASE-1096', 'López', 'Pedro', '87654336', 'Emanol Jesus', '2023-10-18', '2024-09-25', 'Intermedia', 'No revisado'),
('CASE-1097', 'Pérez', 'Sofía', '87654337', 'María Jose', '2023-10-19', '2024-11-20', 'Juzgamiento', 'No revisado'),
('CASE-1098', 'Rodríguez', 'Miguel', '87654338', 'Juan Manuel', '2023-10-20', '2024-12-15', 'Preparatoria', 'No revisado'),
('CASE-1099', 'García', 'Carlos', '87654339', 'Ana Maria', '2023-10-21', '2024-10-10', 'Intermedia', 'No revisado'),
('CASE-1089', 'López', 'Miguel', '87654329', 'Ana Maria', '2023-10-11', '2024-12-25', 'Preparatoria', 'No revisado'),
('CASE-1088', 'García', 'Sofía', '87654328', 'Juan Manuel', '2023-10-10', '2024-11-05', 'Juzgamiento', 'No revisado'),
('CASE-1087', 'Fernández', 'Pedro', '87654327', 'María Jose', '2023-10-09', '2024-09-10', 'Intermedia', 'No revisado'),
('CASE-1077', 'Pérez', 'Sofía', '87654337', 'María Jose', '2023-09-29', '2024-11-20', 'Juzgamiento', 'No revisado'),
('CASE-1078', 'Rodríguez', 'Miguel', '87654338', 'Juan Manuel', '2023-09-30', '2024-12-15', 'Preparatoria', 'No revisado'),
('CASE-1079', 'García', 'Carlos', '87654339', 'Ana Maria', '2023-10-01', '2024-10-10', 'Intermedia', 'No revisado'),
('CASE-1080', 'López', 'Ana', '87654340', 'Luis Alberto', '2023-10-02', '2024-09-15', 'Preparatoria', 'No revisado'),
('CASE-1081', 'García', 'Carlos', '87654321', 'Emanol Jesus', '2023-10-03', '2024-10-20', 'Preparatoria', 'No revisado'),
('CASE-1082', 'Rodríguez', 'Ana', '87654322', 'María Jose', '2023-10-04', '2024-09-25', 'Intermedia', 'No revisado'),
('CASE-1083', 'López', 'Luis', '87654323', 'Juan Manuel', '2023-10-05', '2024-08-20', 'Juzgamiento', 'No revisado'),
('CASE-1084', 'Pérez', 'José', '87654324', 'Ana Maria', '2023-10-06', '2024-12-01', 'Preparatoria', 'No revisado'),
('CASE-1085', 'Sánchez', 'Miguel', '87654325', 'Luis Alberto', '2023-10-07', '2024-11-30', 'Intermedia', 'No revisado'),
('CASE-1086', 'Martínez', 'Laura', '87654326', 'Emanol Jesus', '2023-10-08', '2024-10-15', 'Preparatoria', 'No revisado'),
('CASE-1100', 'López', 'Ana', '87654340', 'Luis Alberto', '2023-10-22', '2024-09-15', 'Preparatoria', 'No revisado'),
('CASE-1050', 'Pérez', 'Carlos', '87654330', 'Luis Alberto', '2023-09-02', '2024-10-05', 'Intermedia', 'No revisado'),
('CASO-0010-DES-CAP', 'Carpio Baez', 'Pitufino Leao', '45924785', 'Lamine Paul', '2024-07-16', '2024-07-31', 'Intermedia', 'No revisado'),
('CASE-1014', 'Fernández', 'Miguel', '87654334', 'Ana Maria', '2023-07-28', '2024-12-01', 'Intermedia', 'No revisado'),
('CASE-1015', 'Martínez', 'Laura', '87654335', 'Luis Alberto', '2023-07-29', '2024-10-20', 'Preparatoria', 'No revisado'),
('CASE-1016', 'López', 'Pedro', '87654336', 'Emanol Jesus', '2023-07-30', '2024-09-25', 'Intermedia', 'No revisado'),
('CASE-1017', 'Pérez', 'Sofía', '87654337', 'María Jose', '2023-07-31', '2024-11-20', 'Juzgamiento', 'No revisado'),
('CASE-1018', 'Rodríguez', 'Miguel', '87654338', 'Juan Manuel', '2023-08-01', '2024-12-15', 'Preparatoria', 'No revisado'),
('CASE-1019', 'García', 'Carlos', '87654339', 'Ana Maria', '2023-08-02', '2024-10-10', 'Intermedia', 'No revisado'),
('CASE-1020', 'López', 'Ana', '87654340', 'Luis Alberto', '2023-08-03', '2024-09-15', 'Preparatoria', 'No revisado'),
('CASE-1021', 'García', 'Carlos', '87654321', 'Emanol Jesus', '2023-08-04', '2024-10-20', 'Preparatoria', 'No revisado'),
('CASE-1022', 'Rodríguez', 'Ana', '87654322', 'María Jose', '2023-08-05', '2024-09-25', 'Intermedia', 'No revisado'),
('CASE-1023', 'López', 'Luis', '87654323', 'Juan Manuel', '2023-08-06', '2024-08-20', 'Juzgamiento', 'No revisado'),
('CASE-1013', 'Gómez', 'José', '87654333', 'Juan Manuel', '2023-07-27', '2024-11-30', 'Preparatoria', 'No revisado'),
('CASE-1012', 'Sánchez', 'Luis', '87654332', 'María Jose', '2023-07-26', '2024-08-25', 'Juzgamiento', 'No revisado'),
('CASE-1011', 'Rodríguez', 'Ana', '87654331', 'Emanol Jesus', '2023-07-25', '2024-09-30', 'Preparatoria', 'No revisado'),
('CASE-1001', 'García', 'Carlos', '87654321', 'Emanol Jesus', '2023-07-15', '2024-10-20', 'Preparatoria', 'No revisado'),
('CASE-1002', 'Rodríguez', 'Ana', '87654322', 'María Jose', '2023-07-16', '2024-09-25', 'Intermedia', 'No revisado'),
('CASE-1003', 'López', 'Luis', '87654323', 'Juan Manuel', '2023-07-17', '2024-08-20', 'Juzgamiento', 'No revisado'),
('CASE-1004', 'Pérez', 'José', '87654324', 'Ana Maria', '2023-07-18', '2024-12-01', 'Preparatoria', 'No revisado'),
('CASE-1005', 'Sánchez', 'Miguel', '87654325', 'Luis Alberto', '2023-07-19', '2024-11-30', 'Intermedia', 'No revisado'),
('CASE-1006', 'Martínez', 'Laura', '87654326', 'Emanol Jesus', '2023-07-20', '2024-10-15', 'Preparatoria', 'No revisado'),
('CASE-1007', 'Fernández', 'Pedro', '87654327', 'María Jose', '2023-07-21', '2024-09-10', 'Intermedia', 'No revisado'),
('CASE-1008', 'García', 'Sofía', '87654328', 'Juan Manuel', '2023-07-22', '2024-11-05', 'Juzgamiento', 'No revisado'),
('CASE-1009', 'López', 'Miguel', '87654329', 'Ana Maria', '2023-07-23', '2024-12-25', 'Preparatoria', 'No revisado'),
('CASE-1010', 'Pérez', 'Carlos', '87654330', 'Luis Alberto', '2023-07-24', '2024-10-05', 'Intermedia', 'No revisado'),
('CASE-1024', 'Pérez', 'José', '87654324', 'Ana Maria', '2023-08-07', '2024-12-01', 'Preparatoria', 'No revisado'),
('CASE-1025', 'Sánchez', 'Miguel', '87654325', 'Luis Alberto', '2023-08-08', '2024-11-30', 'Intermedia', 'No revisado'),
('CASE-1039', 'García', 'Carlos', '87654339', 'Ana Maria', '2023-08-22', '2024-10-10', 'Intermedia', 'No revisado'),
('CASE-1040', 'López', 'Ana', '87654340', 'Luis Alberto', '2023-08-23', '2024-09-15', 'Preparatoria', 'No revisado')
